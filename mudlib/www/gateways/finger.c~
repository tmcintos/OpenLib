/*  -*- LPC -*-  */
#include <mudlib.h>
#include <daemons.h>

inherit DAEMON;

string str1 = @ENDHTML
<TITLE> Finger Report </TITLE>

<H1> Users Currently on Dysfunctional Mud: </H1>

<HR>

<UL>
ENDHTML;

string str2 = @ENDHTML
</UL>

<A HREF="/index.html">Back to Main Page</A>
<P>
<ADDRESS> Dysfunctional Mud * mud@knapp38.res.iastate.edu </ADDRESS>
ENDHTML;

varargs
string
gateway(string who)
{
  string ret = "";

  if(!who) {
    object user;
    foreach(user in users())
      ret  += sprintf("<LI> %s", user->short());
    return  sprintf("%s%s%s", str1, ret, str2);
  } else {  
    ret = sprintf("<PRE>\n%s\n</PRE>", FINGER_D->GetFinger(who));
    return ret;
  }
  return "";
}
